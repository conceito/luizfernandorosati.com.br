/*!
 * fancyBox - jQuery Plugin
 * version: 2.0.3 (29/11/2011)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2011 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(f,d,g){var c=g(f),h=g(d),e=g.fancybox=function(){e.open.apply(this,arguments)},b=false,a=null;g.extend(e,{version:"2.0.3",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:true,fitToView:true,aspectRatio:false,topRatio:0.5,fixed:!g.browser.msie||g.browser.version>6,scrolling:"auto",wrapCSS:"fancybox-default",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,modal:false,loop:true,ajax:{},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(g.browser.msie?'allowtransparency="true""':"")+' scrolling="{scrolling}" src="{href}"></iframe>',swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Fechar" class="fancybox-item fancybox-close"></div>',next:'<a title="PrÃ³ximo" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Anterior" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"elastic",openSpeed:500,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:500,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:0,opacity:0.85,css:{cursor:"pointer","background-color":"rgba(0, 0, 0, 0.85)"},closeClick:true},title:{type:"float"}},onCancel:g.noop,beforeLoad:g.noop,afterLoad:g.noop,beforeShow:g.noop,afterShow:g.noop,beforeClose:g.noop,afterClose:g.noop},group:{},opts:{},coming:null,current:null,isOpen:false,isOpened:false,wrap:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(j,i){if(!g.isArray(j)){j=[j]}if(!j.length){return}e.close(true);e.opts=g.extend(true,{},e.defaults,i);e.group=j;e._start(e.opts.index||0)},cancel:function(){if(e.coming&&false===e.trigger("onCancel")){return}e.coming=null;e.hideLoading();if(e.ajaxLoad){e.ajaxLoad.abort()}e.ajaxLoad=null;if(e.imgPreload){e.imgPreload.onload=e.imgPreload.onabort=e.imgPreload.onerror=null}},close:function(i){e.cancel();if(!e.current||false===e.trigger("beforeClose")){return}e.unbindEvents();if(!e.isOpen||(i&&i[0]===true)){g(".fancybox-wrap").stop().trigger("onReset").remove();e._afterZoomOut()}else{e.isOpen=e.isOpened=false;g(".fancybox-item").remove();e.wrap.stop(true).removeClass("fancybox-opened");e.inner.css("overflow","hidden");e.transitions[e.current.closeMethod]()}},play:function(j){var i=function(){clearTimeout(e.player.timer)},m=function(){i();if(e.current&&e.player.isActive){e.player.timer=setTimeout(e.next,e.current.playSpeed)}},k=function(){i();g("body").unbind(".player");e.player.isActive=false;e.trigger("onPlayEnd")},l=function(){if(e.current&&(e.current.loop||e.current.index<e.group.length-1)){e.player.isActive=true;m();g("body").bind({"onCancel.player afterShow.player onUpdate.player":m,"beforeClose.player":k,"beforeLoad.player":i});e.trigger("onPlayStart")}};if(e.player.isActive||(j&&j[0]===false)){k()}else{l()}},next:function(){if(e.current){e.jumpto(e.current.index+1)}},prev:function(){if(e.current){e.jumpto(e.current.index-1)}},jumpto:function(i){if(!e.current){return}i=parseInt(i,10);if(e.group.length>1&&e.current.loop){if(i>=e.group.length){i=0}else{if(i<0){i=e.group.length-1}}}if(typeof e.group[i]!=="undefined"){e.cancel();e._start(i)}},reposition:function(i){if(e.isOpen){e.wrap.css(e._getPosition(i))}},update:function(){if(e.isOpen){if(!b){a=setInterval(function(){if(b){b=false;clearTimeout(a);if(e.current){if(e.current.autoSize){e.inner.height("auto");e.current.height=e.inner.height()}e._setDimension();if(e.current.canGrow){e.inner.height("auto")}e.reposition();e.trigger("onUpdate")}}},100)}b=true}},toggle:function(){if(e.isOpen){e.current.fitToView=!e.current.fitToView;e.update()}},hideLoading:function(){g("#fancybox-loading").remove()},showLoading:function(){e.hideLoading();g('<div id="fancybox-loading"></div>').click(e.cancel).appendTo("body")},getViewport:function(){return{x:c.scrollLeft(),y:c.scrollTop(),w:c.width(),h:c.height()}},unbindEvents:function(){if(e.wrap){e.wrap.unbind(".fb")}h.unbind(".fb");c.unbind(".fb")},bindEvents:function(){var j=e.current,i=j.keys;if(!j){return}c.bind("resize.fb, orientationchange.fb",e.update);if(i){h.bind("keydown.fb",function(k){if(g.inArray(k.target.tagName.toLowerCase(),["input","textarea","select","button"])>-1){return}if(g.inArray(k.keyCode,i.close)>-1){e.close();k.preventDefault()}else{if(g.inArray(k.keyCode,i.next)>-1){e.next();k.preventDefault()}else{if(g.inArray(k.keyCode,i.prev)>-1){e.prev();k.preventDefault()}}}})}if(g.fn.mousewheel&&j.mouseWheel&&e.group.length>1){e.wrap.bind("mousewheel.fb",function(k,l){if(g(k.target).get(0).clientHeight===0||g(k.target).get(0).scrollHeight===g(k.target).get(0).clientHeight){k.preventDefault();e[l>0?"prev":"next"]()}})}},trigger:function(j){var i,k=g.inArray(j,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current";if(!e[k]){return}if(g.isFunction(e[k][j])){i=e[k][j].apply(e[k],Array.prototype.slice.call(arguments,1))}if(i===false){return false}if(e[k].helpers){g.each(e[k].helpers,function(m,l){if(l&&typeof e.helpers[m]!=="undefined"&&g.isFunction(e.helpers[m][j])){e.helpers[m][j](l)}})}g.event.trigger(j+".fb")},isImage:function(i){return i&&i.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},isSWF:function(i){return i&&i.match(/\.(swf)(.*)?$/i)},_start:function(j){var m=e.group[j]||null,l,i,n,o,k=g.extend(true,{},e.opts,(g.isPlainObject(m)?m:{}),{index:j,element:m});if(typeof k.margin==="number"){k.margin=[k.margin,k.margin,k.margin,k.margin]}if(k.modal){g.extend(true,k,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:false}}})}e.coming=k;if(false===e.trigger("beforeLoad")){e.coming=null;return}if(typeof m==="object"&&(m.nodeType||m instanceof g)){l=true;k.href=g(m).attr("href")||k.href;k.title=g(m).attr("title")||k.title;if(g.metadata){g.extend(k,g(m).metadata())}}n=k.type;i=k.href;if(!n){if(l){o=g(m).data("fancybox-type");if(!o&&m.className){o=m.className.match(/fancybox\.(\w+)/);o=o?o[1]:false}}if(o){n=o}else{if(i){if(e.isImage(i)){n="image"}else{if(e.isSWF(i)){n="swf"}else{if(i.match(/^#/)){n="inline"}}}}}if(!n){n=l?"inline":"html"}k.type=n}if(n==="inline"||n==="html"){if(!k.content){k.content=n==="inline"&&i?g(i):m}if(!k.content.length){n=null}}else{k.href=i||m;if(!k.href){n=null}}k.group=e.group;if(n==="image"){e._loadImage()}else{if(n==="ajax"){e._loadAjax()}else{if(n){e._afterLoad()}else{e._error()}}}},_error:function(){e.coming.type="html";e.coming.minHeight=0;e.coming.autoSize=true;e.coming.content=e.coming.tpl.error;e._afterLoad()},_loadImage:function(){e.imgPreload=new Image();e.imgPreload.onload=function(){this.onload=this.onerror=null;e.coming.width=this.width;e.coming.height=this.height;e._afterLoad()};e.imgPreload.onerror=function(){this.onload=this.onerror=null;e._error()};e.imgPreload.src=e.coming.href;if(!e.imgPreload.complete){e.showLoading()}},_loadAjax:function(){e.showLoading();e.ajaxLoad=g.ajax(g.extend({},e.coming.ajax,{url:e.coming.href,error:function(i,k,j){if(k!=="abort"){e.coming.content=j;e._error()}else{e.hideLoading()}},success:function(j,k,i){if(k==="success"){e.coming.content=j;e._afterLoad()}}}))},_afterLoad:function(){e.hideLoading();if(!e.coming||false===e.trigger("afterLoad",e.current)){e.coming=false;return}if(e.isOpened){g(".fancybox-item").remove();e.wrap.stop(true).removeClass("fancybox-opened");e.inner.css("overflow","hidden");e.transitions[e.current.prevMethod]()}else{g(".fancybox-wrap").stop().trigger("onReset").remove();e.trigger("afterClose")}e.unbindEvents();e.isOpen=false;e.current=e.coming;e.coming=false;e.wrap=g(e.current.tpl.wrap).addClass("fancybox-tmp "+e.current.wrapCSS).appendTo("body");e.outer=g(".fancybox-outer",e.wrap).css("padding",e.current.padding+"px");e.inner=g(".fancybox-inner",e.wrap);e._setContent();e.trigger("beforeShow");e._setDimension();e.wrap.hide().removeClass("fancybox-tmp");e.bindEvents();e.transitions[e.isOpened?e.current.nextMethod:e.current.openMethod]()},_setContent:function(){var j,k,l=e.current,i=l.type;switch(i){case"inline":case"ajax":case"html":if(i==="inline"){j=l.content.show().detach();if(j.parent().hasClass("fancybox-inner")){j.parents(".fancybox-wrap").trigger("onReset").remove()}g(e.wrap).bind("onReset",function(){j.appendTo("body").hide()})}else{j=l.content}if(l.autoSize){k=g('<div class="fancybox-tmp"></div>').appendTo(g("body")).append(j);l.width=k.outerWidth();l.height=k.outerHeight(true);j=k.contents().detach();k.remove()}break;case"image":j=l.tpl.image.replace("{href}",l.href);l.aspectRatio=true;break;case"swf":j=l.tpl.swf.replace(/\{width\}/g,l.width).replace(/\{height\}/g,l.height).replace(/\{href\}/g,l.href);break;case"iframe":j=l.tpl.iframe.replace("{href}",l.href).replace("{scrolling}",l.scrolling).replace("{rnd}",new Date().getTime());break}if(g.inArray(i,["image","swf","iframe"])>-1){l.autoSize=false;l.scrolling=false}e.inner.append(j)},_setDimension:function(){var o=e.current,p=e.getViewport(),m=o.margin,j=o.padding*2,l=o.width+j,u=o.height+j,q=o.width/o.height,s=o.maxWidth,r=o.maxHeight,k=o.minWidth,t=o.minHeight,n,i;p.w-=(m[1]+m[3]);p.h-=(m[0]+m[2]);if(l.toString().indexOf("%")>-1){l=((p.w*parseFloat(l))/100)}if(u.toString().indexOf("%")>-1){u=((p.h*parseFloat(u))/100)}if(o.fitToView){s=Math.min(p.w,s);r=Math.min(p.h,r)}s=Math.max(k,s);r=Math.max(t,r);if(o.aspectRatio){if(l>s){l=s;u=((l-j)/q)+j}if(u>r){u=r;l=((u-j)*q)+j}if(l<k){l=k;u=((l-j)/q)+j}if(u<t){u=t;l=((u-j)*q)+j}}else{l=Math.max(k,Math.min(l,s));u=Math.max(t,Math.min(u,r))}l=Math.round(l);u=Math.round(u);g(e.wrap.add(e.outer).add(e.inner)).width("auto").height("auto");e.inner.width(l-j).height(u-j);e.wrap.width(l);n=e.wrap.height();if(l>s||n>r){while((l>s||n>r)&&l>k&&n>t){u=u-10;if(o.aspectRatio){l=Math.round(((u-j)*q)+j);if(l<k){l=k;u=((l-j)/q)+j}}else{l=l-10}e.inner.width(l-j).height(u-j);e.wrap.width(l);n=e.wrap.height()}}o.dim={width:l,height:n};o.canGrow=o.autoSize&&u>t&&u<r;o.canShrink=false;o.canExpand=false;if((l-j)<o.width||(u-j)<o.height){o.canExpand=true}else{if((l>p.w||n>p.h)&&l>k&&u>t){o.canShrink=true}}i=n-j;e.innerSpace=i-e.inner.height();e.outerSpace=i-e.outer.height()},_getPosition:function(k){var j=e.getViewport(),m=e.current.margin,l=e.wrap.width()+m[1]+m[3],i=e.wrap.height()+m[0]+m[2],n={position:"absolute",top:m[0]+j.y,left:m[3]+j.x};if(e.current.fixed&&(!k||k[0]===false)&&i<=j.h&&l<=j.w){n={position:"fixed",top:m[0],left:m[3]}}n.top=Math.ceil(Math.max(n.top,n.top+((j.h-i)*e.current.topRatio)))+"px";n.left=Math.ceil(Math.max(n.left,n.left+((j.w-l)*0.5)))+"px";return n},_afterZoomIn:function(){var i=e.current;e.isOpen=e.isOpened=true;e.wrap.addClass("fancybox-opened").css("overflow","visible");e.update();e.inner.css("overflow",i.scrolling==="auto"?"auto":(i.scrolling==="yes"?"scroll":"hidden"));if(i.closeClick||i.nextClick){e.inner.bind("click.fb",i.nextClick?e.next:e.close)}if(i.closeBtn){g(e.current.tpl.closeBtn).appendTo(e.wrap).bind("click.fb",e.close)}if(i.arrows&&e.group.length>1){if(i.loop||i.index>0){g(i.tpl.prev).appendTo(e.wrap).bind("click.fb",e.prev)}if(i.loop||i.index<e.group.length-1){g(i.tpl.next).appendTo(e.wrap).bind("click.fb",e.next)}}e.trigger("afterShow");if(e.opts.autoPlay&&!e.player.isActive){e.opts.autoPlay=false;e.play()}},_afterZoomOut:function(){e.trigger("afterClose");e.wrap.trigger("onReset").remove();g.extend(e,{group:{},opts:{},current:null,isOpened:false,isOpen:false,wrap:null,outer:null,inner:null})}});e.transitions={getOrigPosition:function(){var k=e.current.element,n={},l=50,j=50,m,i;if(k&&k.nodeName&&g(k).is(":visible")){m=g(k).find("img:first");if(m.length){n=m.offset();l=m.outerWidth();j=m.outerHeight()}else{n=g(k).offset()}}else{i=e.getViewport();n.top=i.y+(i.h-j)*0.5;n.left=i.x+(i.w-l)*0.5}n={top:Math.ceil(n.top)+"px",left:Math.ceil(n.left)+"px",width:Math.ceil(l)+"px",height:Math.ceil(j)+"px"};return n},step:function(j,l){var k,i,m;if(l.prop==="width"||l.prop==="height"){i=m=Math.ceil(j-(e.current.padding*2));if(l.prop==="height"){k=(j-l.start)/(l.end-l.start);if(l.start>l.end){k=1-k}i-=e.innerSpace*k;m-=e.outerSpace*k}e.inner[l.prop](i);e.outer[l.prop](m)}},zoomIn:function(){var l=e.current,j,i,k=l.dim;if(l.openEffect==="elastic"){i=g.extend({},k,e._getPosition(true));delete i.position;j=this.getOrigPosition();if(l.openOpacity){j.opacity=0;i.opacity=1}e.wrap.css(j).show().animate(i,{duration:l.openSpeed,easing:l.openEasing,step:this.step,complete:e._afterZoomIn})}else{e.wrap.css(g.extend({},k,e._getPosition()));if(l.openEffect==="fade"){e.wrap.fadeIn(l.openSpeed,e._afterZoomIn)}else{e.wrap.show();e._afterZoomIn()}}},zoomOut:function(){var j=e.current,i;if(j.closeEffect==="elastic"){if(e.wrap.css("position")==="fixed"){e.wrap.css(e._getPosition(true))}i=this.getOrigPosition();if(j.closeOpacity){i.opacity=0}e.wrap.animate(i,{duration:j.closeSpeed,easing:j.closeEasing,step:this.step,complete:e._afterZoomOut})}else{e.wrap.fadeOut(j.closeEffect==="fade"?j.closeSpeed:0,e._afterZoomOut)}},changeIn:function(){var j=e.current,i;if(e.current.nextEffect==="elastic"){i=e._getPosition(true);i.opacity=0;i.top=(parseInt(i.top,10)-200)+"px";e.wrap.css(i).show().animate({opacity:1,top:"+=200px"},{duration:j.nextSpeed,complete:e._afterZoomIn})}else{e.wrap.css(e._getPosition());if(j.nextEffect==="fade"){e.wrap.hide().fadeIn(j.nextSpeed,e._afterZoomIn)}else{e.wrap.show();e._afterZoomIn()}}},changeOut:function(){function i(){g(this).trigger("onReset").remove()}e.wrap.removeClass("fancybox-opened");if(e.current.prevEffect==="elastic"){e.wrap.animate({opacity:0,top:"+=200px"},{duration:e.current.prevSpeed,complete:i})}else{e.wrap.fadeOut(e.current.prevEffect==="fade"?e.current.prevSpeed:0,i)}}};e.helpers.overlay={overlay:null,update:function(){var k,i,j;this.overlay.width(0).height(0);if(g.browser.msie){i=Math.max(d.documentElement.scrollWidth,d.body.scrollWidth);j=Math.max(d.documentElement.offsetWidth,d.body.offsetWidth);k=i<j?c.width():i}else{k=h.width()}this.overlay.width(k).height(h.height())},beforeShow:function(i){if(this.overlay){return}this.overlay=g('<div id="fancybox-overlay"></div>').css(i.css||{background:"black"}).appendTo("body");this.update();if(i.closeClick){this.overlay.bind("click.fb",e.close)}c.bind("resize.fb",g.proxy(this.update,this));this.overlay.fadeTo(i.speedIn||"fast",i.opacity||1)},onUpdate:function(){this.update()},afterClose:function(i){if(this.overlay){this.overlay.fadeOut(i.speedOut||"fast",function(){g(this).remove()})}this.overlay=null}};e.helpers.title={beforeShow:function(i){var k,j=e.current.title;if(j){k=g('<div class="fancybox-title fancybox-title-'+i.type+'-wrap">'+j+"</div>").appendTo("body");if(i.type==="float"){k.width(k.width());k.wrapInner('<span class="child"></span>');e.current.margin[2]+=Math.abs(parseInt(k.css("margin-bottom"),10))}k.appendTo(i.type==="over"?e.inner:(i.type==="outside"?e.wrap:e.outer))}}};g.fn.fancybox=function(j){var k=j||{},i=this.selector||"";function l(o){var n=[],m=false,p=g(this).data("fancybox-group");o.preventDefault();if(typeof p!=="undefined"){m=p?"data-fancybox-group":false}else{if(this.rel&&this.rel!==""&&this.rel!=="nofollow"){p=this.rel;m="rel"}}if(m){n=i.length?g(i).filter("["+m+'="'+p+'"]'):g("["+m+'="'+p+'"]')}if(n.length){k.index=n.index(this);e.open(n.get(),k)}else{e.open(this,k)}return false}if(i){h.undelegate(i,"click.fb-start").delegate(i,"click.fb-start",l)}else{g(this).unbind("click.fb-start").bind("click.fb-start",l)}return this}}(window,document,jQuery));